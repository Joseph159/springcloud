21:33:42:740  INFO 15340 --- [main] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
21:33:43:746  INFO 15340 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=62bd86fe-9865-340a-b8bd-479c26e2349b
21:33:43:800  INFO 15340 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:33:43:801  INFO 15340 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:33:43:801  INFO 15340 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:33:43:825  INFO 15340 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:33:43:828  INFO 15340 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:33:43:829  INFO 15340 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:33:43:829  INFO 15340 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$563/0x000000080064d840] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:33:43:830  INFO 15340 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:33:43:832  INFO 15340 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:33:43:834  INFO 15340 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:33:43:837  INFO 15340 --- [main] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
21:33:43:872  INFO 15340 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
21:33:43:876  INFO 15340 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
21:33:43:916  INFO 15340 --- [main] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
21:33:43:962  INFO 15340 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
21:33:43:978 ERROR 15340 --- [main] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:33:43:978  INFO 15340 --- [main] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[default_tx_group]
21:33:43:986  INFO 15340 --- [main] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
21:33:43:986  INFO 15340 --- [main] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
21:33:43:991  INFO 15340 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
21:33:43:992  INFO 15340 --- [main] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[default_tx_group]
21:33:43:992  INFO 15340 --- [main] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
21:33:43:993  INFO 15340 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:33:44:239  INFO 15340 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
21:33:44:239  INFO 15340 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [2.0.7] using APR version [1.7.4].
21:33:44:239  INFO 15340 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
21:33:44:240  INFO 15340 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
21:33:44:243  INFO 15340 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.13 30 Jan 2024]
21:33:44:250  INFO 15340 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
21:33:44:250  INFO 15340 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
21:33:44:387  INFO 15340 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
21:33:44:387  INFO 15340 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1620 ms
21:33:44:549  INFO 15340 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
21:33:44:758  INFO 15340 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
21:33:44:819 ERROR 15340 --- [main] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:33:45:502  INFO 15340 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
21:33:45:544  INFO 15340 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
21:33:46:263  INFO 15340 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
21:33:46:694  INFO 15340 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 3e67e713-bcc9-459e-b7af-371ffc821e5b
21:33:46:694  INFO 15340 --- [main] com.alibaba.nacos.common.remote.client   : [3e67e713-bcc9-459e-b7af-371ffc821e5b] RpcClient init label, labels = {module=naming, source=sdk}
21:33:46:696  INFO 15340 --- [main] com.alibaba.nacos.common.remote.client   : [3e67e713-bcc9-459e-b7af-371ffc821e5b] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
21:33:46:696  INFO 15340 --- [main] com.alibaba.nacos.common.remote.client   : [3e67e713-bcc9-459e-b7af-371ffc821e5b] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
21:33:46:696  INFO 15340 --- [main] com.alibaba.nacos.common.remote.client   : [3e67e713-bcc9-459e-b7af-371ffc821e5b] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
21:33:46:697  INFO 15340 --- [main] com.alibaba.nacos.common.remote.client   : [3e67e713-bcc9-459e-b7af-371ffc821e5b] Try to connect to server on start up, server: {serverIp = '192.168.231.141', server main port = 8848}
21:33:46:827  INFO 15340 --- [main] com.alibaba.nacos.common.remote.client   : [3e67e713-bcc9-459e-b7af-371ffc821e5b] Success to connect to server [192.168.231.141:8848] on start up, connectionId = 1740461744840_192.168.231.1_57332
21:33:46:827  INFO 15340 --- [main] com.alibaba.nacos.common.remote.client   : [3e67e713-bcc9-459e-b7af-371ffc821e5b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
21:33:46:827  INFO 15340 --- [main] com.alibaba.nacos.common.remote.client   : [3e67e713-bcc9-459e-b7af-371ffc821e5b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$471/0x000000080041b040
21:33:46:827  INFO 15340 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [3e67e713-bcc9-459e-b7af-371ffc821e5b] Notify connected event to listeners.
21:33:46:882  INFO 15340 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
21:33:46:889  INFO 15340 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.1.104:8085 register finished
21:33:47:188  INFO 15340 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
21:33:47:190  INFO 15340 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
21:33:47:206  INFO 15340 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
21:33:47:276  INFO 15340 --- [main] com.hmall.trade.TradeApplication         : Started TradeApplication in 9.162 seconds (JVM running for 10.811)
21:33:47:281  INFO 15340 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
21:33:47:281  INFO 15340 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
21:33:47:282  INFO 15340 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
21:33:47:380  INFO 15340 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [3e67e713-bcc9-459e-b7af-371ffc821e5b] Receive server push request, request = NotifySubscriberRequest, requestId = 246
21:33:47:389  INFO 15340 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [3e67e713-bcc9-459e-b7af-371ffc821e5b] Ack server push request, request = NotifySubscriberRequest, requestId = 246
21:34:43:964 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:34:43:996 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:34:53:965 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:34:53:997 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:35:03:967 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:35:03:998 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:35:13:958 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:35:14:005 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:35:23:963 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:35:23:994 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:35:33:970 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:35:34:001 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:35:43:961 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:35:43:992 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:35:53:970 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:35:54:001 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:36:03:965 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:36:03:995 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:36:13:968 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:36:13:998 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:36:23:958 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:36:24:006 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:36:33:959 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:36:34:005 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:36:43:970 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:36:44:001 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:36:53:968 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:36:53:999 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:37:03:959 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:37:04:005 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:37:13:971 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:37:14:002 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:37:23:965 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:37:23:996 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:37:33:958 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:37:34:005 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:37:43:969 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:37:43:998 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:37:53:960 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:37:54:005 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:38:03:967 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:38:03:998 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:38:13:971 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:38:14:003 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:38:23:969 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:38:24:001 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:38:33:959 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:38:34:006 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:38:43:971 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:38:44:002 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:38:53:961 ERROR 15340 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:38:53:993 ERROR 15340 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : can not get cluster name in registry config 'service.vgroupMapping.default_tx_group', please make sure registry config correct
21:38:54:904  WARN 15340 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
21:38:54:904  WARN 15340 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
21:38:54:903  WARN 15340 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
21:38:54:906  WARN 15340 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
21:38:55:197  INFO 15340 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
21:38:55:200  INFO 15340 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
21:38:55:518  INFO 15340 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
21:38:55:518  INFO 15340 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@651b413e[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
21:38:55:518  INFO 15340 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1740461744840_192.168.231.1_57332
21:38:55:520  INFO 15340 --- [nacos-grpc-client-executor-77] c.a.n.c.remote.client.grpc.GrpcClient    : [1740461744840_192.168.231.1_57332]Ignore complete event,isRunning:false,isAbandon=false
21:38:55:523  INFO 15340 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@493c1f28[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 78]
21:38:55:530  INFO 15340 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
21:38:55:579  INFO 15340 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
21:39:08:674  INFO 20076 --- [main] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
21:39:09:744  INFO 20076 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=62bd86fe-9865-340a-b8bd-479c26e2349b
21:39:09:801  INFO 20076 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:39:09:802  INFO 20076 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:39:09:802  INFO 20076 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:39:09:829  INFO 20076 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:39:09:831  INFO 20076 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:39:09:832  INFO 20076 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:39:09:832  INFO 20076 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$564/0x0000000800658440] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:39:09:833  INFO 20076 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:39:09:836  INFO 20076 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:39:09:839  INFO 20076 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:39:09:842  INFO 20076 --- [main] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
21:39:09:888  INFO 20076 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
21:39:09:892  INFO 20076 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
21:39:09:942  INFO 20076 --- [main] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
21:39:10:022  INFO 20076 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
21:39:10:221  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 4fc0d254-5502-461e-aaf5-79a253500b24
21:39:10:222  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [4fc0d254-5502-461e-aaf5-79a253500b24] RpcClient init label, labels = {module=naming, source=sdk}
21:39:10:223  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [4fc0d254-5502-461e-aaf5-79a253500b24] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
21:39:10:223  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [4fc0d254-5502-461e-aaf5-79a253500b24] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
21:39:10:223  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [4fc0d254-5502-461e-aaf5-79a253500b24] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
21:39:10:224  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [4fc0d254-5502-461e-aaf5-79a253500b24] Try to connect to server on start up, server: {serverIp = '192.168.231.141', server main port = 8848}
21:39:10:355  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [4fc0d254-5502-461e-aaf5-79a253500b24] Success to connect to server [192.168.231.141:8848] on start up, connectionId = 1740462095329_192.168.231.1_57989
21:39:10:355  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [4fc0d254-5502-461e-aaf5-79a253500b24] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
21:39:10:355  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [4fc0d254-5502-461e-aaf5-79a253500b24] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$472/0x0000000800486c40
21:39:10:355  INFO 20076 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [4fc0d254-5502-461e-aaf5-79a253500b24] Notify connected event to listeners.
21:39:10:395  INFO 20076 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.231.141:8099
21:39:10:673  INFO 20076 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.231.141:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
21:39:10:890  INFO 20076 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [4fc0d254-5502-461e-aaf5-79a253500b24] Receive server push request, request = NotifySubscriberRequest, requestId = 249
21:39:10:900  INFO 20076 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [4fc0d254-5502-461e-aaf5-79a253500b24] Ack server push request, request = NotifySubscriberRequest, requestId = 249
21:39:11:110  INFO 20076 --- [main] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x74618884, L:/192.168.231.1:57996 - R:/192.168.231.141:8099]
21:39:11:115  INFO 20076 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 61 ms, version:1.5.2,role:TMROLE,channel:[id: 0x74618884, L:/192.168.231.1:57996 - R:/192.168.231.141:8099]
21:39:11:116  INFO 20076 --- [main] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
21:39:11:127  INFO 20076 --- [main] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
21:39:11:128  INFO 20076 --- [main] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
21:39:11:140  INFO 20076 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
21:39:11:141  INFO 20076 --- [main] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
21:39:11:141  INFO 20076 --- [main] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
21:39:11:144  INFO 20076 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:39:11:428  INFO 20076 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
21:39:11:428  INFO 20076 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [2.0.7] using APR version [1.7.4].
21:39:11:428  INFO 20076 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
21:39:11:428  INFO 20076 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
21:39:11:433  INFO 20076 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.13 30 Jan 2024]
21:39:11:441  INFO 20076 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
21:39:11:441  INFO 20076 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
21:39:11:580  INFO 20076 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
21:39:11:580  INFO 20076 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2887 ms
21:39:11:814  INFO 20076 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
21:39:12:070  INFO 20076 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
21:39:12:134  INFO 20076 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.231.141:8099
21:39:12:134  INFO 20076 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.231.141:3306/hm-trade
21:39:12:135  INFO 20076 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.231.141:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.231.141:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
21:39:12:144  INFO 20076 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x1546b64b, L:/192.168.231.1:58006 - R:/192.168.231.141:8099]
21:39:12:144  INFO 20076 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 6 ms, version:1.5.2,role:RMROLE,channel:[id: 0x1546b64b, L:/192.168.231.1:58006 - R:/192.168.231.141:8099]
21:39:12:992  INFO 20076 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
21:39:13:042  INFO 20076 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
21:39:13:831  INFO 20076 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
21:39:14:282  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of ac02b38b-b85a-4ae4-be69-52db68d43920
21:39:14:282  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [ac02b38b-b85a-4ae4-be69-52db68d43920] RpcClient init label, labels = {module=naming, source=sdk}
21:39:14:282  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [ac02b38b-b85a-4ae4-be69-52db68d43920] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
21:39:14:282  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [ac02b38b-b85a-4ae4-be69-52db68d43920] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
21:39:14:282  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [ac02b38b-b85a-4ae4-be69-52db68d43920] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
21:39:14:283  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [ac02b38b-b85a-4ae4-be69-52db68d43920] Try to connect to server on start up, server: {serverIp = '192.168.231.141', server main port = 8848}
21:39:14:398  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [ac02b38b-b85a-4ae4-be69-52db68d43920] Success to connect to server [192.168.231.141:8848] on start up, connectionId = 1740462099723_192.168.231.1_58020
21:39:14:398  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [ac02b38b-b85a-4ae4-be69-52db68d43920] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
21:39:14:398  INFO 20076 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [ac02b38b-b85a-4ae4-be69-52db68d43920] Notify connected event to listeners.
21:39:14:398  INFO 20076 --- [main] com.alibaba.nacos.common.remote.client   : [ac02b38b-b85a-4ae4-be69-52db68d43920] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$472/0x0000000800486c40
21:39:14:419  INFO 20076 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
21:39:14:427  INFO 20076 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.1.104:8085 register finished
21:39:14:731  INFO 20076 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
21:39:14:733  INFO 20076 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
21:39:14:747  INFO 20076 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
21:39:14:813  INFO 20076 --- [main] com.hmall.trade.TradeApplication         : Started TradeApplication in 10.476 seconds (JVM running for 11.617)
21:39:14:817  INFO 20076 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
21:39:14:817  INFO 20076 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
21:39:14:818  INFO 20076 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
21:39:14:936  INFO 20076 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [ac02b38b-b85a-4ae4-be69-52db68d43920] Receive server push request, request = NotifySubscriberRequest, requestId = 252
21:39:14:944  INFO 20076 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [ac02b38b-b85a-4ae4-be69-52db68d43920] Ack server push request, request = NotifySubscriberRequest, requestId = 252
21:49:48:882  WARN 20076 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
21:49:48:883  WARN 20076 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
21:49:48:891  WARN 20076 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
21:49:48:891  WARN 20076 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
21:49:49:339  INFO 20076 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
21:49:49:348  INFO 20076 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
21:49:49:681  INFO 20076 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
21:49:49:681  INFO 20076 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@7b4b97be[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
21:49:49:681  INFO 20076 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1740462099723_192.168.231.1_58020
21:49:49:685  INFO 20076 --- [nacos-grpc-client-executor-143] c.a.n.c.remote.client.grpc.GrpcClient    : [1740462099723_192.168.231.1_58020]Ignore complete event,isRunning:false,isAbandon=false
21:49:49:691  INFO 20076 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@2c3786ef[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 144]
21:49:49:702  INFO 20076 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
21:49:49:729  INFO 20076 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
21:49:49:733  INFO 20076 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x1546b64b, L:/192.168.231.1:58006 ! R:/192.168.231.141:8099]
21:49:49:733  INFO 20076 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x1546b64b, L:/192.168.231.1:58006 ! R:/192.168.231.141:8099]
21:49:49:733  INFO 20076 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x1546b64b, L:/192.168.231.1:58006 ! R:/192.168.231.141:8099]
21:49:49:735  INFO 20076 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x1546b64b, L:/192.168.231.1:58006 ! R:/192.168.231.141:8099]
21:49:49:735  INFO 20076 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x1546b64b, L:/192.168.231.1:58006 ! R:/192.168.231.141:8099]) will closed
21:49:49:736  INFO 20076 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x1546b64b, L:/192.168.231.1:58006 ! R:/192.168.231.141:8099]) will closed
21:50:13:848  INFO 16488 --- [main] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
21:50:14:740  INFO 16488 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=62bd86fe-9865-340a-b8bd-479c26e2349b
21:50:14:804  INFO 16488 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:50:14:804  INFO 16488 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:50:14:804  INFO 16488 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:50:14:831  INFO 16488 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:50:14:834  INFO 16488 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:50:14:835  INFO 16488 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:50:14:836  INFO 16488 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$563/0x000000080064d840] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:50:14:836  INFO 16488 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:50:14:841  INFO 16488 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:50:14:844  INFO 16488 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:50:14:847  INFO 16488 --- [main] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
21:50:14:889  INFO 16488 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
21:50:14:893  INFO 16488 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
21:50:14:937  INFO 16488 --- [main] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
21:50:14:998  INFO 16488 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
21:50:15:139  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 23c56878-ad18-4a64-96cd-85b527670558
21:50:15:139  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [23c56878-ad18-4a64-96cd-85b527670558] RpcClient init label, labels = {module=naming, source=sdk}
21:50:15:141  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [23c56878-ad18-4a64-96cd-85b527670558] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
21:50:15:141  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [23c56878-ad18-4a64-96cd-85b527670558] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
21:50:15:141  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [23c56878-ad18-4a64-96cd-85b527670558] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
21:50:15:141  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [23c56878-ad18-4a64-96cd-85b527670558] Try to connect to server on start up, server: {serverIp = '192.168.231.141', server main port = 8848}
21:50:15:267  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [23c56878-ad18-4a64-96cd-85b527670558] Success to connect to server [192.168.231.141:8848] on start up, connectionId = 1740462815660_192.168.231.1_59095
21:50:15:267  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [23c56878-ad18-4a64-96cd-85b527670558] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
21:50:15:267  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [23c56878-ad18-4a64-96cd-85b527670558] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$471/0x0000000800423040
21:50:15:267  INFO 16488 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [23c56878-ad18-4a64-96cd-85b527670558] Notify connected event to listeners.
21:50:15:323  INFO 16488 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.231.141:8099
21:50:15:556  INFO 16488 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.231.141:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
21:50:15:760  INFO 16488 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [23c56878-ad18-4a64-96cd-85b527670558] Receive server push request, request = NotifySubscriberRequest, requestId = 257
21:50:15:774  INFO 16488 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [23c56878-ad18-4a64-96cd-85b527670558] Ack server push request, request = NotifySubscriberRequest, requestId = 257
21:50:15:937  INFO 16488 --- [main] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x91974be3, L:/192.168.231.1:59097 - R:/192.168.231.141:8099]
21:50:15:943  INFO 16488 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 54 ms, version:1.5.2,role:TMROLE,channel:[id: 0x91974be3, L:/192.168.231.1:59097 - R:/192.168.231.141:8099]
21:50:15:944  INFO 16488 --- [main] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
21:50:15:956  INFO 16488 --- [main] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
21:50:15:957  INFO 16488 --- [main] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
21:50:15:964  INFO 16488 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
21:50:15:965  INFO 16488 --- [main] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
21:50:15:965  INFO 16488 --- [main] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
21:50:15:967  INFO 16488 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:50:16:273  INFO 16488 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
21:50:16:273  INFO 16488 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [2.0.7] using APR version [1.7.4].
21:50:16:273  INFO 16488 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
21:50:16:274  INFO 16488 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
21:50:16:277  INFO 16488 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.13 30 Jan 2024]
21:50:16:286  INFO 16488 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
21:50:16:286  INFO 16488 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
21:50:16:393  INFO 16488 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
21:50:16:394  INFO 16488 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2530 ms
21:50:16:584  INFO 16488 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
21:50:16:815  INFO 16488 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
21:50:16:826  INFO 16488 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.231.141:8099
21:50:16:826  INFO 16488 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.231.141:3306/hm-trade
21:50:16:827  INFO 16488 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.231.141:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.231.141:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
21:50:16:834  INFO 16488 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x64e0afba, L:/192.168.231.1:59104 - R:/192.168.231.141:8099]
21:50:16:835  INFO 16488 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 6 ms, version:1.5.2,role:RMROLE,channel:[id: 0x64e0afba, L:/192.168.231.1:59104 - R:/192.168.231.141:8099]
21:50:17:454  INFO 16488 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
21:50:17:503  INFO 16488 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
21:50:17:552  INFO 16488 --- [main] i.s.s.a.GlobalTransactionScanner         : Bean[com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$b19b116b] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
21:50:18:232  INFO 16488 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
21:50:18:649  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 8fdcd6c1-110b-4c94-a126-b000111328d5
21:50:18:649  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [8fdcd6c1-110b-4c94-a126-b000111328d5] RpcClient init label, labels = {module=naming, source=sdk}
21:50:18:650  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [8fdcd6c1-110b-4c94-a126-b000111328d5] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
21:50:18:650  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [8fdcd6c1-110b-4c94-a126-b000111328d5] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
21:50:18:650  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [8fdcd6c1-110b-4c94-a126-b000111328d5] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
21:50:18:650  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [8fdcd6c1-110b-4c94-a126-b000111328d5] Try to connect to server on start up, server: {serverIp = '192.168.231.141', server main port = 8848}
21:50:18:774  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [8fdcd6c1-110b-4c94-a126-b000111328d5] Success to connect to server [192.168.231.141:8848] on start up, connectionId = 1740462819454_192.168.231.1_59115
21:50:18:774  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [8fdcd6c1-110b-4c94-a126-b000111328d5] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
21:50:18:774  INFO 16488 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [8fdcd6c1-110b-4c94-a126-b000111328d5] Notify connected event to listeners.
21:50:18:774  INFO 16488 --- [main] com.alibaba.nacos.common.remote.client   : [8fdcd6c1-110b-4c94-a126-b000111328d5] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$471/0x0000000800423040
21:50:18:796  INFO 16488 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
21:50:18:804  INFO 16488 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.1.104:8085 register finished
21:50:19:092  INFO 16488 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
21:50:19:096  INFO 16488 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
21:50:19:114  INFO 16488 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
21:50:19:192  INFO 16488 --- [main] com.hmall.trade.TradeApplication         : Started TradeApplication in 9.944 seconds (JVM running for 11.52)
21:50:19:197  INFO 16488 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
21:50:19:198  INFO 16488 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
21:50:19:198  INFO 16488 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
21:50:19:311  INFO 16488 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [8fdcd6c1-110b-4c94-a126-b000111328d5] Receive server push request, request = NotifySubscriberRequest, requestId = 258
21:50:19:322  INFO 16488 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [8fdcd6c1-110b-4c94-a126-b000111328d5] Ack server push request, request = NotifySubscriberRequest, requestId = 258
21:55:18:618  INFO 16488 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
21:55:18:618  INFO 16488 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
21:55:18:620  INFO 16488 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
21:55:18:657  INFO 16488 --- [http-nio-8085-exec-1] io.seata.tm.TransactionManagerHolder     : TransactionManager Singleton io.seata.tm.DefaultTransactionManager@353c9967
21:55:18:698  INFO 16488 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.231.141:8099:36651493588914177]
21:55:18:705 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=40305713537&ids=100001511821 HTTP/1.1
21:55:18:706 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] user-info: 1
21:55:18:706 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
21:55:19:263  INFO 16488 --- [nacos-grpc-client-executor-78] com.alibaba.nacos.common.remote.client   : [8fdcd6c1-110b-4c94-a126-b000111328d5] Receive server push request, request = NotifySubscriberRequest, requestId = 268
21:55:19:264  INFO 16488 --- [nacos-grpc-client-executor-78] com.alibaba.nacos.common.remote.client   : [8fdcd6c1-110b-4c94-a126-b000111328d5] Ack server push request, request = NotifySubscriberRequest, requestId = 268
21:55:19:325 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (618ms)
21:55:19:325 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] connection: keep-alive
21:55:19:325 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] content-type: application/json
21:55:19:325 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] date: Sun, 02 Mar 2025 13:55:19 GMT
21:55:19:325 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] keep-alive: timeout=60
21:55:19:325 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] transfer-encoding: chunked
21:55:19:325 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] 
21:55:19:325 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] [{"id":"40305713537","name":" 2018  41","price":35400,"stock":0,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp","category":"","brand":"","spec":"{\"\": \"\", \"\": \"41\"}","sold":0,"commentCount":0,"isAD":false,"status":1},{"id":"100001511821","name":"HMDIME 2018  AXNZ369  30","price":13700,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp","category":"","brand":"HMDIME","spec":"{\"\": \"\", \"\": \"30\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
21:55:19:325 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- END HTTP (948-byte body)
21:55:19:373 DEBUG 16488 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
21:55:19:391 DEBUG 16488 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1896197630250315777(Long), 49100(Integer), 3(Integer), 1(Long), 1(Integer)
21:55:19:451 DEBUG 16488 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
21:55:19:471 DEBUG 16488 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
21:55:19:472 DEBUG 16488 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1896197630250315777(Long), 40305713537(Long), 1(Integer),  2018  41(String), {"": "", "": "41"}(String), 35400(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp(String)
21:55:19:473 DEBUG 16488 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1896197630250315777(Long), 100001511821(Long), 1(Integer), HMDIME 2018  AXNZ369  30(String), {"": "", "": "30"}(String), 13700(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp(String)
21:55:19:495 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=40305713537&ids=100001511821 HTTP/1.1
21:55:19:495 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] user-info: 1
21:55:19:495 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
21:55:19:536 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200 (42ms)
21:55:19:537 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
21:55:19:537 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
21:55:19:537 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Sun, 02 Mar 2025 13:55:19 GMT
21:55:19:537 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
21:55:19:537 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] 
21:55:19:537 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
21:55:19:546 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
21:55:19:546 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 68
21:55:19:546 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
21:55:19:547 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
21:55:19:547 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
21:55:19:547 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"40305713537","num":1},{"itemId":"100001511821","num":1}]
21:55:19:547 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (68-byte body)
21:55:19:659 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 500 (112ms)
21:55:19:659 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: close
21:55:19:659 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-type: application/json
21:55:19:659 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Sun, 02 Mar 2025 13:55:19 GMT
21:55:19:659 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] transfer-encoding: chunked
21:55:19:659 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
21:55:19:659 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] {"timestamp":"2025-03-02T13:55:19.654+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
21:55:19:659 DEBUG 16488 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (119-byte body)
21:55:19:681  INFO 16488 --- [rpcDispatch_RMROLE_1_1_24] i.s.c.r.p.c.RmBranchRollbackProcessor    : rm handle branch rollback process:xid=192.168.231.141:8099:36651493588914177,branchId=36651493588914182,branchType=XA,resourceId=jdbc:mysql://192.168.231.141:3306/hm-trade,applicationData=null
21:55:19:684  INFO 16488 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacking: 192.168.231.141:8099:36651493588914177 36651493588914182 jdbc:mysql://192.168.231.141:3306/hm-trade
21:55:19:689  INFO 16488 --- [rpcDispatch_RMROLE_1_1_24] i.s.rm.datasource.xa.ResourceManagerXA   : 192.168.231.141:8099:36651493588914177-36651493588914182 was rollbacked
21:55:19:690  INFO 16488 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacked result: PhaseTwo_Rollbacked
21:55:19:701  INFO 16488 --- [rpcDispatch_RMROLE_1_2_24] i.s.c.r.p.c.RmBranchRollbackProcessor    : rm handle branch rollback process:xid=192.168.231.141:8099:36651493588914177,branchId=36651493588914180,branchType=XA,resourceId=jdbc:mysql://192.168.231.141:3306/hm-trade,applicationData=null
21:55:19:701  INFO 16488 --- [rpcDispatch_RMROLE_1_2_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacking: 192.168.231.141:8099:36651493588914177 36651493588914180 jdbc:mysql://192.168.231.141:3306/hm-trade
21:55:19:705  INFO 16488 --- [rpcDispatch_RMROLE_1_2_24] i.s.rm.datasource.xa.ResourceManagerXA   : 192.168.231.141:8099:36651493588914177-36651493588914180 was rollbacked
21:55:19:706  INFO 16488 --- [rpcDispatch_RMROLE_1_2_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacked result: PhaseTwo_Rollbacked
21:55:19:712  INFO 16488 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.231.141:8099:36651493588914177
21:55:19:712  INFO 16488 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.231.141:8099:36651493588914177] rollback status: Rollbacked
21:55:19:722 ERROR 16488 --- [http-nio-8085-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: ] with root cause

java.lang.RuntimeException: 
	at com.hmall.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:87) ~[classes/:na]
	at com.hmall.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$863dd453.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor$2.execute(GlobalTransactionalInterceptor.java:205) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.tm.api.TransactionalTemplate.execute(TransactionalTemplate.java:127) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor.handleGlobalTransaction(GlobalTransactionalInterceptor.java:202) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor.invoke(GlobalTransactionalInterceptor.java:172) ~[seata-all-1.5.2.jar:1.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$b19b116b.createOrder(<generated>) ~[classes/:na]
	at com.hmall.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

21:55:20:008  INFO 16488 --- [nacos-grpc-client-executor-82] com.alibaba.nacos.common.remote.client   : [8fdcd6c1-110b-4c94-a126-b000111328d5] Receive server push request, request = NotifySubscriberRequest, requestId = 269
21:55:20:009  INFO 16488 --- [nacos-grpc-client-executor-82] com.alibaba.nacos.common.remote.client   : [8fdcd6c1-110b-4c94-a126-b000111328d5] Ack server push request, request = NotifySubscriberRequest, requestId = 269
21:55:39:028  INFO 16488 --- [http-nio-8085-exec-2] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.231.141:8099:36651493588914205]
21:55:39:029 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=40305713537&ids=100001511821 HTTP/1.1
21:55:39:029 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] user-info: 1
21:55:39:029 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
21:55:39:550 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (521ms)
21:55:39:550 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] connection: keep-alive
21:55:39:550 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] content-type: application/json
21:55:39:550 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] date: Sun, 02 Mar 2025 13:55:39 GMT
21:55:39:551 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] keep-alive: timeout=60
21:55:39:551 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] transfer-encoding: chunked
21:55:39:551 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] 
21:55:39:551 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] [{"id":"40305713537","name":" 2018  41","price":35400,"stock":0,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp","category":"","brand":"","spec":"{\"\": \"\", \"\": \"41\"}","sold":0,"commentCount":0,"isAD":false,"status":1},{"id":"100001511821","name":"HMDIME 2018  AXNZ369  30","price":13700,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp","category":"","brand":"HMDIME","spec":"{\"\": \"\", \"\": \"30\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
21:55:39:551 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- END HTTP (948-byte body)
21:55:39:553 DEBUG 16488 --- [http-nio-8085-exec-2] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
21:55:39:553 DEBUG 16488 --- [http-nio-8085-exec-2] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1896197714916536322(Long), 49100(Integer), 3(Integer), 1(Long), 1(Integer)
21:55:39:568 DEBUG 16488 --- [http-nio-8085-exec-2] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
21:55:39:575 DEBUG 16488 --- [http-nio-8085-exec-2] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
21:55:39:575 DEBUG 16488 --- [http-nio-8085-exec-2] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1896197714916536322(Long), 40305713537(Long), 1(Integer),  2018  41(String), {"": "", "": "41"}(String), 35400(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp(String)
21:55:39:576 DEBUG 16488 --- [http-nio-8085-exec-2] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1896197714916536322(Long), 100001511821(Long), 1(Integer), HMDIME 2018  AXNZ369  30(String), {"": "", "": "30"}(String), 13700(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp(String)
21:55:39:581 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=40305713537&ids=100001511821 HTTP/1.1
21:55:39:581 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] user-info: 1
21:55:39:581 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
21:55:39:591 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200 (9ms)
21:55:39:592 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
21:55:39:592 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
21:55:39:592 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Sun, 02 Mar 2025 13:55:39 GMT
21:55:39:592 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
21:55:39:592 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] 
21:55:39:592 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
21:55:39:592 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
21:55:39:592 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 68
21:55:39:592 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
21:55:39:593 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
21:55:39:593 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
21:55:39:593 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"40305713537","num":1},{"itemId":"100001511821","num":1}]
21:55:39:593 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (68-byte body)
21:55:39:602 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 500 (8ms)
21:55:39:602 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: close
21:55:39:602 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-type: application/json
21:55:39:602 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Sun, 02 Mar 2025 13:55:39 GMT
21:55:39:602 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] transfer-encoding: chunked
21:55:39:602 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
21:55:39:602 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] {"timestamp":"2025-03-02T13:55:39.601+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
21:55:39:602 DEBUG 16488 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (119-byte body)
21:55:39:610  INFO 16488 --- [rpcDispatch_RMROLE_1_3_24] i.s.c.r.p.c.RmBranchRollbackProcessor    : rm handle branch rollback process:xid=192.168.231.141:8099:36651493588914205,branchId=36651493588914211,branchType=XA,resourceId=jdbc:mysql://192.168.231.141:3306/hm-trade,applicationData=null
21:55:39:610  INFO 16488 --- [rpcDispatch_RMROLE_1_3_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacking: 192.168.231.141:8099:36651493588914205 36651493588914211 jdbc:mysql://192.168.231.141:3306/hm-trade
21:55:39:612  INFO 16488 --- [rpcDispatch_RMROLE_1_3_24] i.s.rm.datasource.xa.ResourceManagerXA   : 192.168.231.141:8099:36651493588914205-36651493588914211 was rollbacked
21:55:39:612  INFO 16488 --- [rpcDispatch_RMROLE_1_3_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacked result: PhaseTwo_Rollbacked
21:55:39:616  INFO 16488 --- [rpcDispatch_RMROLE_1_4_24] i.s.c.r.p.c.RmBranchRollbackProcessor    : rm handle branch rollback process:xid=192.168.231.141:8099:36651493588914205,branchId=36651493588914209,branchType=XA,resourceId=jdbc:mysql://192.168.231.141:3306/hm-trade,applicationData=null
21:55:39:616  INFO 16488 --- [rpcDispatch_RMROLE_1_4_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacking: 192.168.231.141:8099:36651493588914205 36651493588914209 jdbc:mysql://192.168.231.141:3306/hm-trade
21:55:39:618  INFO 16488 --- [rpcDispatch_RMROLE_1_4_24] i.s.rm.datasource.xa.ResourceManagerXA   : 192.168.231.141:8099:36651493588914205-36651493588914209 was rollbacked
21:55:39:619  INFO 16488 --- [rpcDispatch_RMROLE_1_4_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacked result: PhaseTwo_Rollbacked
21:55:39:622  INFO 16488 --- [http-nio-8085-exec-2] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.231.141:8099:36651493588914205
21:55:39:622  INFO 16488 --- [http-nio-8085-exec-2] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.231.141:8099:36651493588914205] rollback status: Rollbacked
21:55:39:623 ERROR 16488 --- [http-nio-8085-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: ] with root cause

java.lang.RuntimeException: 
	at com.hmall.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:87) ~[classes/:na]
	at com.hmall.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$863dd453.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor$2.execute(GlobalTransactionalInterceptor.java:205) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.tm.api.TransactionalTemplate.execute(TransactionalTemplate.java:127) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor.handleGlobalTransaction(GlobalTransactionalInterceptor.java:202) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor.invoke(GlobalTransactionalInterceptor.java:172) ~[seata-all-1.5.2.jar:1.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$b19b116b.createOrder(<generated>) ~[classes/:na]
	at com.hmall.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

21:56:16:983  WARN 16488 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
21:56:16:983  WARN 16488 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
21:56:16:983  WARN 16488 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
21:56:16:984  WARN 16488 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
21:56:17:290  INFO 16488 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
21:56:17:293  INFO 16488 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
21:56:17:623  INFO 16488 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
21:56:17:623  INFO 16488 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@2502f2[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
21:56:17:623  INFO 16488 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1740462819454_192.168.231.1_59115
21:56:17:625  INFO 16488 --- [nacos-grpc-client-executor-96] c.a.n.c.remote.client.grpc.GrpcClient    : [1740462819454_192.168.231.1_59115]Ignore complete event,isRunning:false,isAbandon=false
21:56:17:627  INFO 16488 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@43152cc[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 97]
21:56:17:640  INFO 16488 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
21:56:17:655  INFO 16488 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
21:56:17:659  INFO 16488 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x64e0afba, L:/192.168.231.1:59104 ! R:/192.168.231.141:8099]
21:56:17:659  INFO 16488 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x64e0afba, L:/192.168.231.1:59104 ! R:/192.168.231.141:8099]
21:56:17:659  INFO 16488 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x64e0afba, L:/192.168.231.1:59104 ! R:/192.168.231.141:8099]
21:56:17:660  INFO 16488 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x64e0afba, L:/192.168.231.1:59104 ! R:/192.168.231.141:8099]
21:56:17:660  INFO 16488 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x64e0afba, L:/192.168.231.1:59104 ! R:/192.168.231.141:8099]) will closed
21:56:17:660  INFO 16488 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x64e0afba, L:/192.168.231.1:59104 ! R:/192.168.231.141:8099]) will closed
21:56:31:258  INFO 5280 --- [main] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
21:56:32:342  INFO 5280 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=62bd86fe-9865-340a-b8bd-479c26e2349b
21:56:32:400  INFO 5280 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:56:32:400  INFO 5280 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:56:32:400  INFO 5280 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:56:32:426  INFO 5280 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:56:32:429  INFO 5280 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:56:32:430  INFO 5280 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:56:32:430  INFO 5280 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$564/0x000000080065f840] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:56:32:431  INFO 5280 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:56:32:436  INFO 5280 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:56:32:438  INFO 5280 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:56:32:441  INFO 5280 --- [main] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
21:56:32:483  INFO 5280 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
21:56:32:487  INFO 5280 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
21:56:32:533  INFO 5280 --- [main] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
21:56:32:587  INFO 5280 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
21:56:32:729  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of b92e13f6-28ff-4bea-839b-98e15e161079
21:56:32:729  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [b92e13f6-28ff-4bea-839b-98e15e161079] RpcClient init label, labels = {module=naming, source=sdk}
21:56:32:731  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [b92e13f6-28ff-4bea-839b-98e15e161079] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
21:56:32:731  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [b92e13f6-28ff-4bea-839b-98e15e161079] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
21:56:32:731  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [b92e13f6-28ff-4bea-839b-98e15e161079] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
21:56:32:731  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [b92e13f6-28ff-4bea-839b-98e15e161079] Try to connect to server on start up, server: {serverIp = '192.168.231.141', server main port = 8848}
21:56:32:854  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [b92e13f6-28ff-4bea-839b-98e15e161079] Success to connect to server [192.168.231.141:8848] on start up, connectionId = 1740463224705_192.168.231.1_60281
21:56:32:854  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [b92e13f6-28ff-4bea-839b-98e15e161079] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
21:56:32:854  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [b92e13f6-28ff-4bea-839b-98e15e161079] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$472/0x0000000800486840
21:56:32:854  INFO 5280 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [b92e13f6-28ff-4bea-839b-98e15e161079] Notify connected event to listeners.
21:56:32:889  INFO 5280 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.231.141:8099
21:56:33:168  INFO 5280 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.231.141:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
21:56:33:373  INFO 5280 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [b92e13f6-28ff-4bea-839b-98e15e161079] Receive server push request, request = NotifySubscriberRequest, requestId = 275
21:56:33:407  INFO 5280 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [b92e13f6-28ff-4bea-839b-98e15e161079] Ack server push request, request = NotifySubscriberRequest, requestId = 275
21:56:33:635  INFO 5280 --- [main] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0xc9c7286c, L:/192.168.231.1:60289 - R:/192.168.231.141:8099]
21:56:33:642  INFO 5280 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 52 ms, version:1.5.2,role:TMROLE,channel:[id: 0xc9c7286c, L:/192.168.231.1:60289 - R:/192.168.231.141:8099]
21:56:33:643  INFO 5280 --- [main] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
21:56:33:654  INFO 5280 --- [main] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
21:56:33:655  INFO 5280 --- [main] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
21:56:33:666  INFO 5280 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
21:56:33:666  INFO 5280 --- [main] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
21:56:33:666  INFO 5280 --- [main] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
21:56:33:668  INFO 5280 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
21:56:33:948  INFO 5280 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
21:56:33:949  INFO 5280 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [2.0.7] using APR version [1.7.4].
21:56:33:949  INFO 5280 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
21:56:33:949  INFO 5280 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
21:56:33:953  INFO 5280 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.13 30 Jan 2024]
21:56:33:960  INFO 5280 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
21:56:33:960  INFO 5280 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
21:56:34:098  INFO 5280 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
21:56:34:098  INFO 5280 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2821 ms
21:56:34:340  INFO 5280 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
21:56:34:633  INFO 5280 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
21:56:34:650  INFO 5280 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.231.141:8099
21:56:34:650  INFO 5280 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.231.141:3306/hm-trade
21:56:34:651  INFO 5280 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.231.141:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.231.141:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
21:56:34:661  INFO 5280 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x5bfcbcd8, L:/192.168.231.1:60300 - R:/192.168.231.141:8099]
21:56:34:661  INFO 5280 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 8 ms, version:1.5.2,role:RMROLE,channel:[id: 0x5bfcbcd8, L:/192.168.231.1:60300 - R:/192.168.231.141:8099]
21:56:35:422  INFO 5280 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
21:56:35:465  INFO 5280 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
21:56:35:509  INFO 5280 --- [main] i.s.s.a.GlobalTransactionScanner         : Bean[com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$ccd9bc1e] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
21:56:36:335  INFO 5280 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
21:56:36:821  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 18397874-80d3-47de-82b2-b79d7eb30298
21:56:36:821  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [18397874-80d3-47de-82b2-b79d7eb30298] RpcClient init label, labels = {module=naming, source=sdk}
21:56:36:822  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [18397874-80d3-47de-82b2-b79d7eb30298] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
21:56:36:822  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [18397874-80d3-47de-82b2-b79d7eb30298] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
21:56:36:822  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [18397874-80d3-47de-82b2-b79d7eb30298] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
21:56:36:822  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [18397874-80d3-47de-82b2-b79d7eb30298] Try to connect to server on start up, server: {serverIp = '192.168.231.141', server main port = 8848}
21:56:36:943  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [18397874-80d3-47de-82b2-b79d7eb30298] Success to connect to server [192.168.231.141:8848] on start up, connectionId = 1740463229138_192.168.231.1_60314
21:56:36:943  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [18397874-80d3-47de-82b2-b79d7eb30298] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
21:56:36:943  INFO 5280 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [18397874-80d3-47de-82b2-b79d7eb30298] Notify connected event to listeners.
21:56:36:943  INFO 5280 --- [main] com.alibaba.nacos.common.remote.client   : [18397874-80d3-47de-82b2-b79d7eb30298] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$472/0x0000000800486840
21:56:36:965  INFO 5280 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
21:56:36:971  INFO 5280 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.1.104:8085 register finished
21:56:37:291  INFO 5280 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
21:56:37:294  INFO 5280 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
21:56:37:311  INFO 5280 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
21:56:37:393  INFO 5280 --- [main] com.hmall.trade.TradeApplication         : Started TradeApplication in 10.216 seconds (JVM running for 11.441)
21:56:37:397  INFO 5280 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
21:56:37:398  INFO 5280 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
21:56:37:398  INFO 5280 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
21:56:37:490  INFO 5280 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [18397874-80d3-47de-82b2-b79d7eb30298] Receive server push request, request = NotifySubscriberRequest, requestId = 280
21:56:37:498  INFO 5280 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [18397874-80d3-47de-82b2-b79d7eb30298] Ack server push request, request = NotifySubscriberRequest, requestId = 280
21:57:09:556  INFO 5280 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
21:57:09:556  INFO 5280 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
21:57:09:557  INFO 5280 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
21:57:09:595  INFO 5280 --- [http-nio-8085-exec-1] io.seata.tm.TransactionManagerHolder     : TransactionManager Singleton io.seata.tm.DefaultTransactionManager@66f0a408
21:57:09:605  INFO 5280 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.231.141:8099:36651493588914407]
21:57:09:611 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=40305713537&ids=100001511821 HTTP/1.1
21:57:09:611 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] user-info: 1
21:57:09:611 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
21:57:10:199  INFO 5280 --- [nacos-grpc-client-executor-15] com.alibaba.nacos.common.remote.client   : [18397874-80d3-47de-82b2-b79d7eb30298] Receive server push request, request = NotifySubscriberRequest, requestId = 283
21:57:10:200  INFO 5280 --- [nacos-grpc-client-executor-15] com.alibaba.nacos.common.remote.client   : [18397874-80d3-47de-82b2-b79d7eb30298] Ack server push request, request = NotifySubscriberRequest, requestId = 283
21:57:10:211 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (599ms)
21:57:10:211 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] connection: keep-alive
21:57:10:211 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] content-type: application/json
21:57:10:211 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] date: Sun, 02 Mar 2025 13:57:10 GMT
21:57:10:211 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] keep-alive: timeout=60
21:57:10:211 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] transfer-encoding: chunked
21:57:10:211 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] 
21:57:10:211 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] [{"id":"40305713537","name":" 2018  41","price":35400,"stock":0,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp","category":"","brand":"","spec":"{\"\": \"\", \"\": \"41\"}","sold":0,"commentCount":0,"isAD":false,"status":1},{"id":"100001511821","name":"HMDIME 2018  AXNZ369  30","price":13700,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp","category":"","brand":"HMDIME","spec":"{\"\": \"\", \"\": \"30\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
21:57:10:211 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- END HTTP (948-byte body)
21:57:10:253 DEBUG 5280 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
21:57:10:269 DEBUG 5280 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1896198095318831105(Long), 49100(Integer), 3(Integer), 1(Long), 1(Integer)
21:57:10:287 DEBUG 5280 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
21:57:10:304 DEBUG 5280 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
21:57:10:305 DEBUG 5280 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1896198095318831105(Long), 40305713537(Long), 1(Integer),  2018  41(String), {"": "", "": "41"}(String), 35400(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp(String)
21:57:10:305 DEBUG 5280 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1896198095318831105(Long), 100001511821(Long), 1(Integer), HMDIME 2018  AXNZ369  30(String), {"": "", "": "30"}(String), 13700(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp(String)
21:57:10:321 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=40305713537&ids=100001511821 HTTP/1.1
21:57:10:321 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] user-info: 1
21:57:10:321 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
21:57:10:360 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200 (37ms)
21:57:10:360 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
21:57:10:360 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
21:57:10:360 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Sun, 02 Mar 2025 13:57:10 GMT
21:57:10:360 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
21:57:10:360 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] 
21:57:10:360 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
21:57:10:365 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
21:57:10:365 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 68
21:57:10:365 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
21:57:10:365 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
21:57:10:365 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
21:57:10:365 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"40305713537","num":1},{"itemId":"100001511821","num":1}]
21:57:10:366 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (68-byte body)
21:57:10:455 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 500 (89ms)
21:57:10:455 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: close
21:57:10:455 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-type: application/json
21:57:10:455 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Sun, 02 Mar 2025 13:57:10 GMT
21:57:10:455 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] transfer-encoding: chunked
21:57:10:455 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
21:57:10:455 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] {"timestamp":"2025-03-02T13:57:10.452+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
21:57:10:455 DEBUG 5280 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (119-byte body)
21:57:10:467  INFO 5280 --- [rpcDispatch_RMROLE_1_1_24] i.s.c.r.p.c.RmBranchRollbackProcessor    : rm handle branch rollback process:xid=192.168.231.141:8099:36651493588914407,branchId=36651493588914414,branchType=XA,resourceId=jdbc:mysql://192.168.231.141:3306/hm-trade,applicationData=null
21:57:10:468  INFO 5280 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacking: 192.168.231.141:8099:36651493588914407 36651493588914414 jdbc:mysql://192.168.231.141:3306/hm-trade
21:57:10:471  INFO 5280 --- [rpcDispatch_RMROLE_1_1_24] i.s.rm.datasource.xa.ResourceManagerXA   : 192.168.231.141:8099:36651493588914407-36651493588914414 was rollbacked
21:57:10:472  INFO 5280 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacked result: PhaseTwo_Rollbacked
21:57:10:478  INFO 5280 --- [rpcDispatch_RMROLE_1_2_24] i.s.c.r.p.c.RmBranchRollbackProcessor    : rm handle branch rollback process:xid=192.168.231.141:8099:36651493588914407,branchId=36651493588914412,branchType=XA,resourceId=jdbc:mysql://192.168.231.141:3306/hm-trade,applicationData=null
21:57:10:478  INFO 5280 --- [rpcDispatch_RMROLE_1_2_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacking: 192.168.231.141:8099:36651493588914407 36651493588914412 jdbc:mysql://192.168.231.141:3306/hm-trade
21:57:10:480  INFO 5280 --- [rpcDispatch_RMROLE_1_2_24] i.s.rm.datasource.xa.ResourceManagerXA   : 192.168.231.141:8099:36651493588914407-36651493588914412 was rollbacked
21:57:10:480  INFO 5280 --- [rpcDispatch_RMROLE_1_2_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacked result: PhaseTwo_Rollbacked
21:57:10:483  INFO 5280 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.231.141:8099:36651493588914407
21:57:10:484  INFO 5280 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.231.141:8099:36651493588914407] rollback status: Rollbacked
21:57:10:492 ERROR 5280 --- [http-nio-8085-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: ] with root cause

java.lang.RuntimeException: 
	at com.hmall.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:87) ~[classes/:na]
	at com.hmall.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$863dd453.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor$2.execute(GlobalTransactionalInterceptor.java:205) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.tm.api.TransactionalTemplate.execute(TransactionalTemplate.java:127) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor.handleGlobalTransaction(GlobalTransactionalInterceptor.java:202) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor.invoke(GlobalTransactionalInterceptor.java:172) ~[seata-all-1.5.2.jar:1.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$ccd9bc1e.createOrder(<generated>) ~[classes/:na]
	at com.hmall.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

21:57:10:851  INFO 5280 --- [nacos-grpc-client-executor-18] com.alibaba.nacos.common.remote.client   : [18397874-80d3-47de-82b2-b79d7eb30298] Receive server push request, request = NotifySubscriberRequest, requestId = 284
21:57:10:852  INFO 5280 --- [nacos-grpc-client-executor-18] com.alibaba.nacos.common.remote.client   : [18397874-80d3-47de-82b2-b79d7eb30298] Ack server push request, request = NotifySubscriberRequest, requestId = 284
22:00:02:294  WARN 5280 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
22:00:02:295  WARN 5280 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
22:00:02:299  WARN 5280 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
22:00:02:300  WARN 5280 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
22:00:02:705  INFO 5280 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
22:00:02:711  INFO 5280 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
22:00:03:033  INFO 5280 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
22:00:03:033  INFO 5280 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@44f4c8e2[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
22:00:03:033  INFO 5280 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1740463229138_192.168.231.1_60314
22:00:03:043  INFO 5280 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@613ff14b[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 60]
22:00:03:058  INFO 5280 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
22:00:03:081  INFO 5280 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
22:00:03:089  INFO 5280 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x5bfcbcd8, L:/192.168.231.1:60300 ! R:/192.168.231.141:8099]
22:00:03:090  INFO 5280 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x5bfcbcd8, L:/192.168.231.1:60300 ! R:/192.168.231.141:8099]
22:00:03:090  INFO 5280 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x5bfcbcd8, L:/192.168.231.1:60300 ! R:/192.168.231.141:8099]
22:00:03:093  INFO 5280 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x5bfcbcd8, L:/192.168.231.1:60300 ! R:/192.168.231.141:8099]
22:00:03:093  INFO 5280 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x5bfcbcd8, L:/192.168.231.1:60300 ! R:/192.168.231.141:8099]) will closed
22:00:03:094  INFO 5280 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x5bfcbcd8, L:/192.168.231.1:60300 ! R:/192.168.231.141:8099]) will closed
22:00:19:316  INFO 22928 --- [main] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
22:00:20:609  INFO 22928 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=62bd86fe-9865-340a-b8bd-479c26e2349b
22:00:20:689  INFO 22928 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:00:20:689  INFO 22928 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:00:20:690  INFO 22928 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:00:20:730  INFO 22928 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:00:20:734  INFO 22928 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:00:20:735  INFO 22928 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:00:20:736  INFO 22928 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$564/0x000000080065f840] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:00:20:737  INFO 22928 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:00:20:740  INFO 22928 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:00:20:743  INFO 22928 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:00:20:747  INFO 22928 --- [main] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
22:00:20:802  INFO 22928 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
22:00:20:807  INFO 22928 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
22:00:20:884  INFO 22928 --- [main] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
22:00:20:961  INFO 22928 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
22:00:21:134  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of f52a975d-bd5d-4c55-b3f7-85f3596040b9
22:00:21:134  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [f52a975d-bd5d-4c55-b3f7-85f3596040b9] RpcClient init label, labels = {module=naming, source=sdk}
22:00:21:136  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [f52a975d-bd5d-4c55-b3f7-85f3596040b9] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
22:00:21:136  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [f52a975d-bd5d-4c55-b3f7-85f3596040b9] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
22:00:21:136  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [f52a975d-bd5d-4c55-b3f7-85f3596040b9] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
22:00:21:137  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [f52a975d-bd5d-4c55-b3f7-85f3596040b9] Try to connect to server on start up, server: {serverIp = '192.168.231.141', server main port = 8848}
22:00:21:269  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [f52a975d-bd5d-4c55-b3f7-85f3596040b9] Success to connect to server [192.168.231.141:8848] on start up, connectionId = 1740463472145_192.168.231.1_60926
22:00:21:269  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [f52a975d-bd5d-4c55-b3f7-85f3596040b9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
22:00:21:269  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [f52a975d-bd5d-4c55-b3f7-85f3596040b9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$472/0x0000000800486c40
22:00:21:269  INFO 22928 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [f52a975d-bd5d-4c55-b3f7-85f3596040b9] Notify connected event to listeners.
22:00:21:324  INFO 22928 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.231.141:8099
22:00:21:685  INFO 22928 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.231.141:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
22:00:21:783  INFO 22928 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [f52a975d-bd5d-4c55-b3f7-85f3596040b9] Receive server push request, request = NotifySubscriberRequest, requestId = 290
22:00:21:798  INFO 22928 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [f52a975d-bd5d-4c55-b3f7-85f3596040b9] Ack server push request, request = NotifySubscriberRequest, requestId = 290
22:00:22:207  INFO 22928 --- [main] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x200a0510, L:/192.168.231.1:60932 - R:/192.168.231.141:8099]
22:00:22:217  INFO 22928 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 71 ms, version:1.5.2,role:TMROLE,channel:[id: 0x200a0510, L:/192.168.231.1:60932 - R:/192.168.231.141:8099]
22:00:22:218  INFO 22928 --- [main] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
22:00:22:232  INFO 22928 --- [main] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
22:00:22:232  INFO 22928 --- [main] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
22:00:22:240  INFO 22928 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
22:00:22:240  INFO 22928 --- [main] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
22:00:22:240  INFO 22928 --- [main] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
22:00:22:243  INFO 22928 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:00:22:599  INFO 22928 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
22:00:22:601  INFO 22928 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [2.0.7] using APR version [1.7.4].
22:00:22:601  INFO 22928 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
22:00:22:601  INFO 22928 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
22:00:22:606  INFO 22928 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.13 30 Jan 2024]
22:00:22:620  INFO 22928 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
22:00:22:620  INFO 22928 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
22:00:22:768  INFO 22928 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
22:00:22:769  INFO 22928 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3430 ms
22:00:23:313  INFO 22928 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
22:00:23:721  INFO 22928 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
22:00:23:740  INFO 22928 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.231.141:8099
22:00:23:741  INFO 22928 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.231.141:3306/hm-trade
22:00:23:742  INFO 22928 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.231.141:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.231.141:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
22:00:23:756  INFO 22928 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x4ef57be1, L:/192.168.231.1:60941 - R:/192.168.231.141:8099]
22:00:23:757  INFO 22928 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 11 ms, version:1.5.2,role:RMROLE,channel:[id: 0x4ef57be1, L:/192.168.231.1:60941 - R:/192.168.231.141:8099]
22:00:24:806  INFO 22928 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
22:00:24:882  INFO 22928 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
22:00:24:947  INFO 22928 --- [main] i.s.s.a.GlobalTransactionScanner         : Bean[com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$f6bf1dec] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
22:00:26:180  INFO 22928 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
22:00:26:796  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of d906bb70-991e-4777-9a35-9ec5c494c06e
22:00:26:796  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] RpcClient init label, labels = {module=naming, source=sdk}
22:00:26:797  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
22:00:26:797  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
22:00:26:797  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
22:00:26:797  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Try to connect to server on start up, server: {serverIp = '192.168.231.141', server main port = 8848}
22:00:26:919  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Success to connect to server [192.168.231.141:8848] on start up, connectionId = 1740463478275_192.168.231.1_60962
22:00:26:919  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
22:00:26:919  INFO 22928 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Notify connected event to listeners.
22:00:26:919  INFO 22928 --- [main] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$472/0x0000000800486c40
22:00:26:952  INFO 22928 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
22:00:26:961  INFO 22928 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.1.104:8085 register finished
22:00:27:379  INFO 22928 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
22:00:27:383  INFO 22928 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
22:00:27:414  INFO 22928 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
22:00:27:420  INFO 22928 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Receive server push request, request = NotifySubscriberRequest, requestId = 295
22:00:27:430  INFO 22928 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Ack server push request, request = NotifySubscriberRequest, requestId = 295
22:00:27:538  INFO 22928 --- [main] com.hmall.trade.TradeApplication         : Started TradeApplication in 13.213 seconds (JVM running for 14.639)
22:00:27:546  INFO 22928 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
22:00:27:547  INFO 22928 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
22:00:27:548  INFO 22928 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
22:02:05:700  INFO 22928 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
22:02:05:700  INFO 22928 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
22:02:05:703  INFO 22928 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
22:02:05:747  INFO 22928 --- [http-nio-8085-exec-1] io.seata.tm.TransactionManagerHolder     : TransactionManager Singleton io.seata.tm.DefaultTransactionManager@3a0128f2
22:02:05:760  INFO 22928 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.231.141:8099:36651493588914591]
22:02:05:770 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=40305713537&ids=100001511821 HTTP/1.1
22:02:05:770 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] user-info: 1
22:02:05:771 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
22:02:06:355  INFO 22928 --- [nacos-grpc-client-executor-32] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Receive server push request, request = NotifySubscriberRequest, requestId = 298
22:02:06:355  INFO 22928 --- [nacos-grpc-client-executor-32] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Ack server push request, request = NotifySubscriberRequest, requestId = 298
22:02:06:414 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (643ms)
22:02:06:414 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] connection: keep-alive
22:02:06:414 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] content-type: application/json
22:02:06:414 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] date: Sun, 02 Mar 2025 14:02:06 GMT
22:02:06:414 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] keep-alive: timeout=60
22:02:06:414 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] transfer-encoding: chunked
22:02:06:414 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] 
22:02:06:414 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] [{"id":"40305713537","name":" 2018  41","price":35400,"stock":0,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp","category":"","brand":"","spec":"{\"\": \"\", \"\": \"41\"}","sold":0,"commentCount":0,"isAD":false,"status":1},{"id":"100001511821","name":"HMDIME 2018  AXNZ369  30","price":13700,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp","category":"","brand":"HMDIME","spec":"{\"\": \"\", \"\": \"30\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
22:02:06:415 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- END HTTP (948-byte body)
22:02:06:473 DEBUG 22928 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
22:02:06:511 DEBUG 22928 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1896199337743020034(Long), 62800(Integer), 3(Integer), 1(Long), 1(Integer)
22:02:06:550 DEBUG 22928 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
22:02:06:580 DEBUG 22928 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
22:02:06:581 DEBUG 22928 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1896199337743020034(Long), 40305713537(Long), 1(Integer),  2018  41(String), {"": "", "": "41"}(String), 35400(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp(String)
22:02:06:582 DEBUG 22928 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1896199337743020034(Long), 100001511821(Long), 2(Integer), HMDIME 2018  AXNZ369  30(String), {"": "", "": "30"}(String), 13700(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp(String)
22:02:06:608 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=40305713537&ids=100001511821 HTTP/1.1
22:02:06:608 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] user-info: 1
22:02:06:608 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
22:02:06:661 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200 (53ms)
22:02:06:661 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
22:02:06:661 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
22:02:06:661 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Sun, 02 Mar 2025 14:02:06 GMT
22:02:06:661 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
22:02:06:661 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] 
22:02:06:661 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
22:02:06:675 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
22:02:06:675 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 68
22:02:06:675 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
22:02:06:675 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
22:02:06:675 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
22:02:06:675 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"40305713537","num":1},{"itemId":"100001511821","num":2}]
22:02:06:675 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (68-byte body)
22:02:06:788 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 500 (113ms)
22:02:06:788 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: close
22:02:06:788 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-type: application/json
22:02:06:788 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Sun, 02 Mar 2025 14:02:06 GMT
22:02:06:788 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] transfer-encoding: chunked
22:02:06:788 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
22:02:06:788 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] {"timestamp":"2025-03-02T14:02:06.782+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
22:02:06:789 DEBUG 22928 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (119-byte body)
22:02:06:805  INFO 22928 --- [rpcDispatch_RMROLE_1_1_24] i.s.c.r.p.c.RmBranchRollbackProcessor    : rm handle branch rollback process:xid=192.168.231.141:8099:36651493588914591,branchId=36651493588914596,branchType=XA,resourceId=jdbc:mysql://192.168.231.141:3306/hm-trade,applicationData=null
22:02:06:807  INFO 22928 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacking: 192.168.231.141:8099:36651493588914591 36651493588914596 jdbc:mysql://192.168.231.141:3306/hm-trade
22:02:06:811  INFO 22928 --- [rpcDispatch_RMROLE_1_1_24] i.s.rm.datasource.xa.ResourceManagerXA   : 192.168.231.141:8099:36651493588914591-36651493588914596 was rollbacked
22:02:06:812  INFO 22928 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacked result: PhaseTwo_Rollbacked
22:02:06:820  INFO 22928 --- [rpcDispatch_RMROLE_1_2_24] i.s.c.r.p.c.RmBranchRollbackProcessor    : rm handle branch rollback process:xid=192.168.231.141:8099:36651493588914591,branchId=36651493588914594,branchType=XA,resourceId=jdbc:mysql://192.168.231.141:3306/hm-trade,applicationData=null
22:02:06:820  INFO 22928 --- [rpcDispatch_RMROLE_1_2_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacking: 192.168.231.141:8099:36651493588914591 36651493588914594 jdbc:mysql://192.168.231.141:3306/hm-trade
22:02:06:824  INFO 22928 --- [rpcDispatch_RMROLE_1_2_24] i.s.rm.datasource.xa.ResourceManagerXA   : 192.168.231.141:8099:36651493588914591-36651493588914594 was rollbacked
22:02:06:824  INFO 22928 --- [rpcDispatch_RMROLE_1_2_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacked result: PhaseTwo_Rollbacked
22:02:06:831  INFO 22928 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.231.141:8099:36651493588914591
22:02:06:832  INFO 22928 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.231.141:8099:36651493588914591] rollback status: Rollbacked
22:02:06:843 ERROR 22928 --- [http-nio-8085-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: ] with root cause

java.lang.RuntimeException: 
	at com.hmall.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:87) ~[classes/:na]
	at com.hmall.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$863dd453.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor$2.execute(GlobalTransactionalInterceptor.java:205) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.tm.api.TransactionalTemplate.execute(TransactionalTemplate.java:127) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor.handleGlobalTransaction(GlobalTransactionalInterceptor.java:202) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor.invoke(GlobalTransactionalInterceptor.java:172) ~[seata-all-1.5.2.jar:1.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$f6bf1dec.createOrder(<generated>) ~[classes/:na]
	at com.hmall.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

22:02:07:101  INFO 22928 --- [nacos-grpc-client-executor-35] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Receive server push request, request = NotifySubscriberRequest, requestId = 299
22:02:07:101  INFO 22928 --- [nacos-grpc-client-executor-35] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Ack server push request, request = NotifySubscriberRequest, requestId = 299
22:08:38:653  INFO 22928 --- [nacos-grpc-client-executor-117] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Receive server push request, request = NotifySubscriberRequest, requestId = 300
22:08:38:662  INFO 22928 --- [nacos-grpc-client-executor-117] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Ack server push request, request = NotifySubscriberRequest, requestId = 300
22:08:39:780  INFO 22928 --- [nacos-grpc-client-executor-118] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Receive server push request, request = NotifySubscriberRequest, requestId = 302
22:08:39:787  INFO 22928 --- [nacos-grpc-client-executor-118] com.alibaba.nacos.common.remote.client   : [d906bb70-991e-4777-9a35-9ec5c494c06e] Ack server push request, request = NotifySubscriberRequest, requestId = 302
22:08:40:257  WARN 22928 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
22:08:40:257  WARN 22928 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
22:08:40:258  WARN 22928 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
22:08:40:258  WARN 22928 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
22:08:40:467  INFO 22928 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
22:08:40:469  INFO 22928 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
22:08:40:795  INFO 22928 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
22:08:40:796  INFO 22928 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@7e5613e[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
22:08:40:796  INFO 22928 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1740463478275_192.168.231.1_60962
22:08:40:797  INFO 22928 --- [nacos-grpc-client-executor-121] c.a.n.c.remote.client.grpc.GrpcClient    : [1740463478275_192.168.231.1_60962]Ignore complete event,isRunning:false,isAbandon=false
22:08:40:799  INFO 22928 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@7602a94b[Running, pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 122]
22:08:40:808  INFO 22928 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
22:08:40:820  INFO 22928 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
22:08:40:822  INFO 22928 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x4ef57be1, L:/192.168.231.1:60941 ! R:/192.168.231.141:8099]
22:08:40:822  INFO 22928 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x4ef57be1, L:/192.168.231.1:60941 ! R:/192.168.231.141:8099]
22:08:40:822  INFO 22928 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x4ef57be1, L:/192.168.231.1:60941 ! R:/192.168.231.141:8099]
22:08:40:822  INFO 22928 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x4ef57be1, L:/192.168.231.1:60941 ! R:/192.168.231.141:8099]
22:08:40:822  INFO 22928 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x4ef57be1, L:/192.168.231.1:60941 ! R:/192.168.231.141:8099]) will closed
22:08:40:822  INFO 22928 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x4ef57be1, L:/192.168.231.1:60941 ! R:/192.168.231.141:8099]) will closed
22:10:10:725  INFO 23180 --- [main] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
22:10:11:954  INFO 23180 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=66fd68df-77b1-3b30-a930-c46fe500d5ac
22:10:12:015  INFO 23180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:10:12:016  INFO 23180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:10:12:016  INFO 23180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:10:12:053  INFO 23180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:10:12:058  INFO 23180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:10:12:059  INFO 23180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:10:12:060  INFO 23180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$564/0x0000000800660440] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:10:12:060  INFO 23180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:10:12:064  INFO 23180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:10:12:067  INFO 23180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:10:12:072  INFO 23180 --- [main] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
22:10:12:133  INFO 23180 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
22:10:12:139  INFO 23180 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
22:10:12:200  INFO 23180 --- [main] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
22:10:12:270  INFO 23180 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
22:10:12:421  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of a3a99c52-4e6e-4bdd-99e0-9d0faf32231b
22:10:12:421  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [a3a99c52-4e6e-4bdd-99e0-9d0faf32231b] RpcClient init label, labels = {module=naming, source=sdk}
22:10:12:423  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [a3a99c52-4e6e-4bdd-99e0-9d0faf32231b] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
22:10:12:423  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [a3a99c52-4e6e-4bdd-99e0-9d0faf32231b] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
22:10:12:423  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [a3a99c52-4e6e-4bdd-99e0-9d0faf32231b] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
22:10:12:423  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [a3a99c52-4e6e-4bdd-99e0-9d0faf32231b] Try to connect to server on start up, server: {serverIp = '192.168.231.141', server main port = 8848}
22:10:12:537  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [a3a99c52-4e6e-4bdd-99e0-9d0faf32231b] Success to connect to server [192.168.231.141:8848] on start up, connectionId = 1740464112696_192.168.231.1_62655
22:10:12:537  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [a3a99c52-4e6e-4bdd-99e0-9d0faf32231b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
22:10:12:537  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [a3a99c52-4e6e-4bdd-99e0-9d0faf32231b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$472/0x0000000800486c40
22:10:12:537  INFO 23180 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a3a99c52-4e6e-4bdd-99e0-9d0faf32231b] Notify connected event to listeners.
22:10:12:582  INFO 23180 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.231.141:8099
22:10:12:940  INFO 23180 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.231.141:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
22:10:13:079  INFO 23180 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [a3a99c52-4e6e-4bdd-99e0-9d0faf32231b] Receive server push request, request = NotifySubscriberRequest, requestId = 313
22:10:13:101  INFO 23180 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [a3a99c52-4e6e-4bdd-99e0-9d0faf32231b] Ack server push request, request = NotifySubscriberRequest, requestId = 313
22:10:13:496  INFO 23180 --- [main] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x60592eb3, L:/192.168.231.1:62659 - R:/192.168.231.141:8099]
22:10:13:502  INFO 23180 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 48 ms, version:1.5.2,role:TMROLE,channel:[id: 0x60592eb3, L:/192.168.231.1:62659 - R:/192.168.231.141:8099]
22:10:13:502  INFO 23180 --- [main] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
22:10:13:510  INFO 23180 --- [main] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
22:10:13:510  INFO 23180 --- [main] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
22:10:13:517  INFO 23180 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
22:10:13:517  INFO 23180 --- [main] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
22:10:13:517  INFO 23180 --- [main] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
22:10:13:518  INFO 23180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:10:13:581  INFO 23180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:10:13:583  INFO 23180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataFeignObjectWrapper' of type [com.alibaba.cloud.seata.feign.SeataFeignObjectWrapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:10:13:788  INFO 23180 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
22:10:13:789  INFO 23180 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [2.0.7] using APR version [1.7.4].
22:10:13:789  INFO 23180 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
22:10:13:789  INFO 23180 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
22:10:13:793  INFO 23180 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.13 30 Jan 2024]
22:10:13:800  INFO 23180 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
22:10:13:800  INFO 23180 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
22:10:13:933  INFO 23180 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
22:10:13:934  INFO 23180 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3182 ms
22:10:14:169  INFO 23180 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
22:10:14:425  INFO 23180 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
22:10:14:443  INFO 23180 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.231.141:8099
22:10:14:443  INFO 23180 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.231.141:3306/hm-trade
22:10:14:444  INFO 23180 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.231.141:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.231.141:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
22:10:14:452  INFO 23180 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x3aa51c7c, L:/192.168.231.1:62665 - R:/192.168.231.141:8099]
22:10:14:452  INFO 23180 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 5 ms, version:1.5.2,role:RMROLE,channel:[id: 0x3aa51c7c, L:/192.168.231.1:62665 - R:/192.168.231.141:8099]
22:10:15:408  INFO 23180 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
22:10:15:458  INFO 23180 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
22:10:15:509  INFO 23180 --- [main] i.s.s.a.GlobalTransactionScanner         : Bean[com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$35f731bf] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
22:10:16:409  INFO 23180 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
22:10:16:928  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 1fc4af0c-1a41-4c63-9da9-9f5417b970d4
22:10:16:928  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [1fc4af0c-1a41-4c63-9da9-9f5417b970d4] RpcClient init label, labels = {module=naming, source=sdk}
22:10:16:928  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [1fc4af0c-1a41-4c63-9da9-9f5417b970d4] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
22:10:16:928  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [1fc4af0c-1a41-4c63-9da9-9f5417b970d4] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
22:10:16:928  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [1fc4af0c-1a41-4c63-9da9-9f5417b970d4] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
22:10:16:929  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [1fc4af0c-1a41-4c63-9da9-9f5417b970d4] Try to connect to server on start up, server: {serverIp = '192.168.231.141', server main port = 8848}
22:10:17:057  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [1fc4af0c-1a41-4c63-9da9-9f5417b970d4] Success to connect to server [192.168.231.141:8848] on start up, connectionId = 1740464117579_192.168.231.1_62731
22:10:17:057  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [1fc4af0c-1a41-4c63-9da9-9f5417b970d4] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
22:10:17:057  INFO 23180 --- [main] com.alibaba.nacos.common.remote.client   : [1fc4af0c-1a41-4c63-9da9-9f5417b970d4] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$472/0x0000000800486c40
22:10:17:057  INFO 23180 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [1fc4af0c-1a41-4c63-9da9-9f5417b970d4] Notify connected event to listeners.
22:10:17:082  INFO 23180 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
22:10:17:089  INFO 23180 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.1.104:8085 register finished
22:10:17:427  INFO 23180 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
22:10:17:429  INFO 23180 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
22:10:17:450  INFO 23180 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
22:10:17:547  INFO 23180 --- [main] com.hmall.trade.TradeApplication         : Started TradeApplication in 12.09 seconds (JVM running for 13.36)
22:10:17:551  INFO 23180 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
22:10:17:552  INFO 23180 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
22:10:17:552  INFO 23180 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
22:10:17:560  INFO 23180 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [1fc4af0c-1a41-4c63-9da9-9f5417b970d4] Receive server push request, request = NotifySubscriberRequest, requestId = 314
22:10:17:571  INFO 23180 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [1fc4af0c-1a41-4c63-9da9-9f5417b970d4] Ack server push request, request = NotifySubscriberRequest, requestId = 314
22:11:57:213  INFO 23180 --- [http-nio-8085-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
22:11:57:213  INFO 23180 --- [http-nio-8085-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
22:11:57:215  INFO 23180 --- [http-nio-8085-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
22:11:57:252  INFO 23180 --- [http-nio-8085-exec-2] io.seata.tm.TransactionManagerHolder     : TransactionManager Singleton io.seata.tm.DefaultTransactionManager@455bbd18
22:11:57:260  INFO 23180 --- [http-nio-8085-exec-2] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.231.141:8099:36651493588914729]
22:11:57:266 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=40305713537&ids=14741770661 HTTP/1.1
22:11:57:266 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] user-info: 1
22:11:57:267 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
22:11:57:881  INFO 23180 --- [nacos-grpc-client-executor-34] com.alibaba.nacos.common.remote.client   : [1fc4af0c-1a41-4c63-9da9-9f5417b970d4] Receive server push request, request = NotifySubscriberRequest, requestId = 321
22:11:57:881  INFO 23180 --- [nacos-grpc-client-executor-34] com.alibaba.nacos.common.remote.client   : [1fc4af0c-1a41-4c63-9da9-9f5417b970d4] Ack server push request, request = NotifySubscriberRequest, requestId = 321
22:11:57:907 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (639ms)
22:11:57:907 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] connection: keep-alive
22:11:57:907 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] content-type: application/json
22:11:57:907 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] date: Sun, 02 Mar 2025 14:11:57 GMT
22:11:57:907 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] keep-alive: timeout=60
22:11:57:907 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] transfer-encoding: chunked
22:11:57:907 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] 
22:11:57:907 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] [{"id":"14741770661","name":"KONKA LED49UC3 49364K HDR","price":144600,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t16477/84/2032772431/400946/2887be91/5a912776N7e343ec3.jpg!q70.jpg.webp","category":"","brand":"","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1},{"id":"40305713537","name":" 2018  41","price":35400,"stock":0,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp","category":"","brand":"","spec":"{\"\": \"\", \"\": \"41\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
22:11:57:907 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- END HTTP (859-byte body)
22:11:57:949 DEBUG 23180 --- [http-nio-8085-exec-2] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
22:11:57:964 DEBUG 23180 --- [http-nio-8085-exec-2] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1896201818577403905(Long), 180000(Integer), 3(Integer), 1(Long), 1(Integer)
22:11:57:981 DEBUG 23180 --- [http-nio-8085-exec-2] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
22:11:57:995 DEBUG 23180 --- [http-nio-8085-exec-2] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
22:11:57:996 DEBUG 23180 --- [http-nio-8085-exec-2] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1896201818577403905(Long), 14741770661(Long), 1(Integer), KONKA LED49UC3 49364K HDR(String), {}(String), 144600(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t16477/84/2032772431/400946/2887be91/5a912776N7e343ec3.jpg!q70.jpg.webp(String)
22:11:57:997 DEBUG 23180 --- [http-nio-8085-exec-2] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1896201818577403905(Long), 40305713537(Long), 1(Integer),  2018  41(String), {"": "", "": "41"}(String), 35400(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp(String)
22:11:58:016 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=40305713537&ids=14741770661 HTTP/1.1
22:11:58:016 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] user-info: 1
22:11:58:016 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
22:11:58:080 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200 (62ms)
22:11:58:080 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
22:11:58:080 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
22:11:58:080 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Sun, 02 Mar 2025 14:11:58 GMT
22:11:58:080 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
22:11:58:080 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] 
22:11:58:080 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
22:11:58:090 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
22:11:58:090 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 67
22:11:58:090 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
22:11:58:090 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
22:11:58:091 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
22:11:58:091 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"14741770661","num":1},{"itemId":"40305713537","num":1}]
22:11:58:091 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (67-byte body)
22:11:58:220 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 500 (129ms)
22:11:58:220 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: close
22:11:58:220 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-type: application/json
22:11:58:220 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Sun, 02 Mar 2025 14:11:57 GMT
22:11:58:220 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] transfer-encoding: chunked
22:11:58:220 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
22:11:58:220 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] {"timestamp":"2025-03-02T14:11:58.215+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
22:11:58:220 DEBUG 23180 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (119-byte body)
22:11:58:246  INFO 23180 --- [rpcDispatch_RMROLE_1_1_24] i.s.c.r.p.c.RmBranchRollbackProcessor    : rm handle branch rollback process:xid=192.168.231.141:8099:36651493588914729,branchId=36651493588914736,branchType=XA,resourceId=jdbc:mysql://192.168.231.141:3306/hm-trade,applicationData=null
22:11:58:247  INFO 23180 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacking: 192.168.231.141:8099:36651493588914729 36651493588914736 jdbc:mysql://192.168.231.141:3306/hm-trade
22:11:58:252  INFO 23180 --- [rpcDispatch_RMROLE_1_1_24] i.s.rm.datasource.xa.ResourceManagerXA   : 192.168.231.141:8099:36651493588914729-36651493588914736 was rollbacked
22:11:58:252  INFO 23180 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacked result: PhaseTwo_Rollbacked
22:11:58:258  INFO 23180 --- [rpcDispatch_RMROLE_1_2_24] i.s.c.r.p.c.RmBranchRollbackProcessor    : rm handle branch rollback process:xid=192.168.231.141:8099:36651493588914729,branchId=36651493588914734,branchType=XA,resourceId=jdbc:mysql://192.168.231.141:3306/hm-trade,applicationData=null
22:11:58:258  INFO 23180 --- [rpcDispatch_RMROLE_1_2_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacking: 192.168.231.141:8099:36651493588914729 36651493588914734 jdbc:mysql://192.168.231.141:3306/hm-trade
22:11:58:260  INFO 23180 --- [rpcDispatch_RMROLE_1_2_24] i.s.rm.datasource.xa.ResourceManagerXA   : 192.168.231.141:8099:36651493588914729-36651493588914734 was rollbacked
22:11:58:260  INFO 23180 --- [rpcDispatch_RMROLE_1_2_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacked result: PhaseTwo_Rollbacked
22:11:58:274  INFO 23180 --- [http-nio-8085-exec-2] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.231.141:8099:36651493588914729
22:11:58:275  INFO 23180 --- [http-nio-8085-exec-2] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.231.141:8099:36651493588914729] rollback status: Rollbacked
22:11:58:288 ERROR 23180 --- [http-nio-8085-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: ] with root cause

java.lang.RuntimeException: 
	at com.hmall.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:87) ~[classes/:na]
	at com.hmall.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$863dd453.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor$2.execute(GlobalTransactionalInterceptor.java:205) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.tm.api.TransactionalTemplate.execute(TransactionalTemplate.java:127) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor.handleGlobalTransaction(GlobalTransactionalInterceptor.java:202) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor.invoke(GlobalTransactionalInterceptor.java:172) ~[seata-all-1.5.2.jar:1.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$35f731bf.createOrder(<generated>) ~[classes/:na]
	at com.hmall.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

22:11:58:533  INFO 23180 --- [nacos-grpc-client-executor-37] com.alibaba.nacos.common.remote.client   : [1fc4af0c-1a41-4c63-9da9-9f5417b970d4] Receive server push request, request = NotifySubscriberRequest, requestId = 322
22:11:58:533  INFO 23180 --- [nacos-grpc-client-executor-37] com.alibaba.nacos.common.remote.client   : [1fc4af0c-1a41-4c63-9da9-9f5417b970d4] Ack server push request, request = NotifySubscriberRequest, requestId = 322
22:20:42:682  WARN 23180 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
22:20:42:684  WARN 23180 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
22:20:42:682  WARN 23180 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
22:20:42:684  WARN 23180 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
22:20:43:083  INFO 23180 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
22:20:43:087  INFO 23180 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
22:20:43:410  INFO 23180 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
22:20:43:410  INFO 23180 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@6830dade[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
22:20:43:410  INFO 23180 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1740464117579_192.168.231.1_62731
22:20:43:415  INFO 23180 --- [nacos-grpc-client-executor-157] c.a.n.c.remote.client.grpc.GrpcClient    : [1740464117579_192.168.231.1_62731]Ignore complete event,isRunning:false,isAbandon=false
22:20:43:421  INFO 23180 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@24768b0a[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 158]
22:20:43:438  INFO 23180 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
22:20:43:475  INFO 23180 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
22:20:43:486  INFO 23180 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x3aa51c7c, L:/192.168.231.1:62665 ! R:/192.168.231.141:8099]
22:20:43:486  INFO 23180 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x3aa51c7c, L:/192.168.231.1:62665 ! R:/192.168.231.141:8099]
22:20:43:486  INFO 23180 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x3aa51c7c, L:/192.168.231.1:62665 ! R:/192.168.231.141:8099]
22:20:43:489  INFO 23180 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x3aa51c7c, L:/192.168.231.1:62665 ! R:/192.168.231.141:8099]
22:20:43:491  INFO 23180 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x3aa51c7c, L:/192.168.231.1:62665 ! R:/192.168.231.141:8099]) will closed
22:20:43:491  INFO 23180 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x3aa51c7c, L:/192.168.231.1:62665 ! R:/192.168.231.141:8099]) will closed
22:20:59:851  INFO 17644 --- [main] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
22:21:01:236  INFO 17644 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=66fd68df-77b1-3b30-a930-c46fe500d5ac
22:21:01:319  INFO 17644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:21:01:319  INFO 17644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:21:01:320  INFO 17644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:21:01:353  INFO 17644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:21:01:357  INFO 17644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:21:01:359  INFO 17644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:21:01:360  INFO 17644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$563/0x000000080064dc40] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:21:01:361  INFO 17644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:21:01:365  INFO 17644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:21:01:368  INFO 17644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:21:01:372  INFO 17644 --- [main] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
22:21:01:437  INFO 17644 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
22:21:01:444  INFO 17644 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
22:21:01:537  INFO 17644 --- [main] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
22:21:01:644  INFO 17644 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
22:21:01:823  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of a196121f-da52-4bf7-b01e-310512e9ed1a
22:21:01:823  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [a196121f-da52-4bf7-b01e-310512e9ed1a] RpcClient init label, labels = {module=naming, source=sdk}
22:21:01:825  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [a196121f-da52-4bf7-b01e-310512e9ed1a] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
22:21:01:826  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [a196121f-da52-4bf7-b01e-310512e9ed1a] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
22:21:01:826  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [a196121f-da52-4bf7-b01e-310512e9ed1a] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
22:21:01:827  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [a196121f-da52-4bf7-b01e-310512e9ed1a] Try to connect to server on start up, server: {serverIp = '192.168.231.141', server main port = 8848}
22:21:01:964  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [a196121f-da52-4bf7-b01e-310512e9ed1a] Success to connect to server [192.168.231.141:8848] on start up, connectionId = 1740464816217_192.168.231.1_63989
22:21:01:964  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [a196121f-da52-4bf7-b01e-310512e9ed1a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
22:21:01:965  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [a196121f-da52-4bf7-b01e-310512e9ed1a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$471/0x0000000800423440
22:21:01:964  INFO 17644 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a196121f-da52-4bf7-b01e-310512e9ed1a] Notify connected event to listeners.
22:21:02:031  INFO 17644 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.231.141:8099
22:21:02:381  INFO 17644 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.231.141:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
22:21:02:543  INFO 17644 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [a196121f-da52-4bf7-b01e-310512e9ed1a] Receive server push request, request = NotifySubscriberRequest, requestId = 328
22:21:02:556  INFO 17644 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [a196121f-da52-4bf7-b01e-310512e9ed1a] Ack server push request, request = NotifySubscriberRequest, requestId = 328
22:21:02:990  INFO 17644 --- [main] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0xee261740, L:/192.168.231.1:63995 - R:/192.168.231.141:8099]
22:21:02:997  INFO 17644 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 88 ms, version:1.5.2,role:TMROLE,channel:[id: 0xee261740, L:/192.168.231.1:63995 - R:/192.168.231.141:8099]
22:21:02:999  INFO 17644 --- [main] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
22:21:03:023  INFO 17644 --- [main] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
22:21:03:024  INFO 17644 --- [main] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
22:21:03:045  INFO 17644 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
22:21:03:045  INFO 17644 --- [main] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
22:21:03:046  INFO 17644 --- [main] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
22:21:03:050  INFO 17644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:21:03:211  INFO 17644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:21:03:214  INFO 17644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataFeignObjectWrapper' of type [com.alibaba.cloud.seata.feign.SeataFeignObjectWrapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
22:21:03:548  INFO 17644 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
22:21:03:549  INFO 17644 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [2.0.7] using APR version [1.7.4].
22:21:03:549  INFO 17644 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
22:21:03:549  INFO 17644 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
22:21:03:555  INFO 17644 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.13 30 Jan 2024]
22:21:03:563  INFO 17644 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
22:21:03:563  INFO 17644 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
22:21:03:712  INFO 17644 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
22:21:03:713  INFO 17644 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3836 ms
22:21:03:958  INFO 17644 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
22:21:04:195  INFO 17644 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
22:21:04:262  INFO 17644 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.231.141:8099
22:21:04:263  INFO 17644 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.231.141:3306/hm-trade
22:21:04:263  INFO 17644 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.231.141:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.231.141:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
22:21:04:272  INFO 17644 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x577613c1, L:/192.168.231.1:64004 - R:/192.168.231.141:8099]
22:21:04:273  INFO 17644 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 8 ms, version:1.5.2,role:RMROLE,channel:[id: 0x577613c1, L:/192.168.231.1:64004 - R:/192.168.231.141:8099]
22:21:05:088  INFO 17644 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
22:21:05:162  INFO 17644 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
22:21:05:239  INFO 17644 --- [main] i.s.s.a.GlobalTransactionScanner         : Bean[com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$69a05c99] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
22:21:06:065  INFO 17644 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
22:21:06:510  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 3113fcdd-bc63-4e15-b3ec-48e7075d6c4b
22:21:06:510  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] RpcClient init label, labels = {module=naming, source=sdk}
22:21:06:510  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
22:21:06:510  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
22:21:06:510  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
22:21:06:510  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Try to connect to server on start up, server: {serverIp = '192.168.231.141', server main port = 8848}
22:21:06:628  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Success to connect to server [192.168.231.141:8848] on start up, connectionId = 1740464821284_192.168.231.1_64019
22:21:06:628  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
22:21:06:628  INFO 17644 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Notify connected event to listeners.
22:21:06:629  INFO 17644 --- [main] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$471/0x0000000800423440
22:21:06:650  INFO 17644 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
22:21:06:657  INFO 17644 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.1.104:8085 register finished
22:21:06:959  INFO 17644 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
22:21:06:961  INFO 17644 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
22:21:06:978  INFO 17644 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
22:21:07:053  INFO 17644 --- [main] com.hmall.trade.TradeApplication         : Started TradeApplication in 11.97 seconds (JVM running for 13.437)
22:21:07:059  INFO 17644 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
22:21:07:059  INFO 17644 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
22:21:07:060  INFO 17644 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
22:21:07:100  INFO 17644 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Receive server push request, request = NotifySubscriberRequest, requestId = 334
22:21:07:108  INFO 17644 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Ack server push request, request = NotifySubscriberRequest, requestId = 334
22:22:16:776  INFO 17644 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
22:22:16:776  INFO 17644 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
22:22:16:778  INFO 17644 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
22:22:16:828  INFO 17644 --- [http-nio-8085-exec-1] io.seata.tm.TransactionManagerHolder     : TransactionManager Singleton io.seata.tm.DefaultTransactionManager@2dff1238
22:22:16:839  INFO 17644 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.231.141:8099:36651493588914874]
22:22:16:847 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=40305713537&ids=14741770661 HTTP/1.1
22:22:16:848 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] user-info: 1
22:22:16:848 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
22:22:17:429  INFO 17644 --- [nacos-grpc-client-executor-25] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Receive server push request, request = NotifySubscriberRequest, requestId = 336
22:22:17:429  INFO 17644 --- [nacos-grpc-client-executor-25] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Ack server push request, request = NotifySubscriberRequest, requestId = 336
22:22:17:536 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- HTTP/1.1 200 (687ms)
22:22:17:536 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] connection: keep-alive
22:22:17:536 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] content-type: application/json
22:22:17:536 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] date: Sun, 02 Mar 2025 14:22:17 GMT
22:22:17:536 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] keep-alive: timeout=60
22:22:17:536 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] transfer-encoding: chunked
22:22:17:536 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] 
22:22:17:537 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] [{"id":"14741770661","name":"KONKA LED49UC3 49364K HDR","price":144600,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t16477/84/2032772431/400946/2887be91/5a912776N7e343ec3.jpg!q70.jpg.webp","category":"","brand":"","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1},{"id":"40305713537","name":" 2018  41","price":35400,"stock":0,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp","category":"","brand":"","spec":"{\"\": \"\", \"\": \"41\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
22:22:17:537 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- END HTTP (859-byte body)
22:22:17:581 DEBUG 17644 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
22:22:17:747 DEBUG 17644 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1896204417527447554(Long), 180000(Integer), 3(Integer), 1(Long), 1(Integer)
22:22:17:832 DEBUG 17644 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
22:22:17:849 DEBUG 17644 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
22:22:17:851 DEBUG 17644 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1896204417527447554(Long), 14741770661(Long), 1(Integer), KONKA LED49UC3 49364K HDR(String), {}(String), 144600(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t16477/84/2032772431/400946/2887be91/5a912776N7e343ec3.jpg!q70.jpg.webp(String)
22:22:17:852 DEBUG 17644 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1896204417527447554(Long), 40305713537(Long), 1(Integer),  2018  41(String), {"": "", "": "41"}(String), 35400(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp(String)
22:22:17:917 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=40305713537&ids=14741770661 HTTP/1.1
22:22:17:917 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] user-info: 1
22:22:17:917 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
22:22:18:224 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200 (307ms)
22:22:18:224 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
22:22:18:224 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
22:22:18:224 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Sun, 02 Mar 2025 14:22:18 GMT
22:22:18:224 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
22:22:18:224 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] 
22:22:18:224 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
22:22:18:233 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
22:22:18:233 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 67
22:22:18:233 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
22:22:18:233 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
22:22:18:233 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
22:22:18:233 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"14741770661","num":1},{"itemId":"40305713537","num":1}]
22:22:18:233 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (67-byte body)
22:22:18:466  INFO 17644 --- [nacos-grpc-client-executor-29] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Receive server push request, request = NotifySubscriberRequest, requestId = 337
22:22:18:466  INFO 17644 --- [nacos-grpc-client-executor-29] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Ack server push request, request = NotifySubscriberRequest, requestId = 337
22:22:18:466 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 500 (232ms)
22:22:18:467 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: close
22:22:18:467 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-type: application/json
22:22:18:467 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Sun, 02 Mar 2025 14:22:17 GMT
22:22:18:467 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] transfer-encoding: chunked
22:22:18:467 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
22:22:18:467 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] {"timestamp":"2025-03-02T14:22:18.460+00:00","status":500,"error":"Internal Server Error","path":"/items/stock/deduct"}
22:22:18:467 DEBUG 17644 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (119-byte body)
22:22:18:564  INFO 17644 --- [rpcDispatch_RMROLE_1_1_24] i.s.c.r.p.c.RmBranchRollbackProcessor    : rm handle branch rollback process:xid=192.168.231.141:8099:36651493588914874,branchId=36651493588914879,branchType=AT,resourceId=jdbc:mysql://192.168.231.141:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
22:22:18:568  INFO 17644 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacking: 192.168.231.141:8099:36651493588914874 36651493588914879 jdbc:mysql://192.168.231.141:3306/hm-trade
22:22:18:611  INFO 17644 --- [rpcDispatch_RMROLE_1_1_24] i.s.r.d.undo.AbstractUndoLogManager      : xid 192.168.231.141:8099:36651493588914874 branch 36651493588914879, undo_log deleted with GlobalFinished
22:22:18:613  INFO 17644 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacked result: PhaseTwo_Rollbacked
22:22:18:620  INFO 17644 --- [rpcDispatch_RMROLE_1_2_24] i.s.c.r.p.c.RmBranchRollbackProcessor    : rm handle branch rollback process:xid=192.168.231.141:8099:36651493588914874,branchId=36651493588914877,branchType=AT,resourceId=jdbc:mysql://192.168.231.141:3306/hm-trade,applicationData={"skipCheckLock":true}
22:22:18:620  INFO 17644 --- [rpcDispatch_RMROLE_1_2_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacking: 192.168.231.141:8099:36651493588914874 36651493588914877 jdbc:mysql://192.168.231.141:3306/hm-trade
22:22:18:630  INFO 17644 --- [rpcDispatch_RMROLE_1_2_24] i.s.r.d.undo.AbstractUndoLogManager      : xid 192.168.231.141:8099:36651493588914874 branch 36651493588914877, undo_log deleted with GlobalFinished
22:22:18:630  INFO 17644 --- [rpcDispatch_RMROLE_1_2_24] io.seata.rm.AbstractRMHandler            : Branch Rollbacked result: PhaseTwo_Rollbacked
22:22:18:638  INFO 17644 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.231.141:8099:36651493588914874
22:22:18:638  INFO 17644 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.231.141:8099:36651493588914874] rollback status: Rollbacked
22:22:18:653 ERROR 17644 --- [http-nio-8085-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: ] with root cause

java.lang.RuntimeException: 
	at com.hmall.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:87) ~[classes/:na]
	at com.hmall.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$863dd453.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor$2.execute(GlobalTransactionalInterceptor.java:205) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.tm.api.TransactionalTemplate.execute(TransactionalTemplate.java:127) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor.handleGlobalTransaction(GlobalTransactionalInterceptor.java:202) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor.invoke(GlobalTransactionalInterceptor.java:172) ~[seata-all-1.5.2.jar:1.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$69a05c99.createOrder(<generated>) ~[classes/:na]
	at com.hmall.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

23:42:15:433  INFO 17644 --- [nacos-grpc-client-executor-1051] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Receive server push request, request = NotifySubscriberRequest, requestId = 339
23:42:15:441  INFO 17644 --- [nacos-grpc-client-executor-1051] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Ack server push request, request = NotifySubscriberRequest, requestId = 339
23:42:19:543  INFO 17644 --- [nacos-grpc-client-executor-1053] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Receive server push request, request = NotifySubscriberRequest, requestId = 340
23:42:19:551  INFO 17644 --- [nacos-grpc-client-executor-1053] com.alibaba.nacos.common.remote.client   : [3113fcdd-bc63-4e15-b3ec-48e7075d6c4b] Ack server push request, request = NotifySubscriberRequest, requestId = 340
23:42:21:133  WARN 17644 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
23:42:21:133  WARN 17644 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
23:42:21:133  WARN 17644 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
23:42:21:134  WARN 17644 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
23:42:21:363  INFO 17644 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
23:42:21:365  INFO 17644 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
23:42:21:697  INFO 17644 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
23:42:21:697  INFO 17644 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@5f719790[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
23:42:21:697  INFO 17644 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1740464821284_192.168.231.1_64019
23:42:21:698  INFO 17644 --- [nacos-grpc-client-executor-1056] c.a.n.c.remote.client.grpc.GrpcClient    : [1740464821284_192.168.231.1_64019]Ignore complete event,isRunning:false,isAbandon=false
23:42:21:700  INFO 17644 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@7fe9b3e8[Running, pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 1057]
23:42:21:708  INFO 17644 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
23:42:21:717  INFO 17644 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
23:42:21:719  INFO 17644 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x577613c1, L:/192.168.231.1:64004 ! R:/192.168.231.141:8099]
23:42:21:719  INFO 17644 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x577613c1, L:/192.168.231.1:64004 ! R:/192.168.231.141:8099]
23:42:21:720  INFO 17644 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x577613c1, L:/192.168.231.1:64004 ! R:/192.168.231.141:8099]
23:42:21:720  INFO 17644 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x577613c1, L:/192.168.231.1:64004 ! R:/192.168.231.141:8099]
23:42:21:720  INFO 17644 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x577613c1, L:/192.168.231.1:64004 ! R:/192.168.231.141:8099]) will closed
23:42:21:720  INFO 17644 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x577613c1, L:/192.168.231.1:64004 ! R:/192.168.231.141:8099]) will closed
